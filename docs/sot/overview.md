# 项目概览（SOT）

Last Updated: 2026-01-12

## 项目是什么
`lifegame-plus` 是一个纯前端 Web 版元胞自动机（Cellular Automata）MVP：固定 100×100 网格；边界策略为**左右环绕、上下不环绕**；坐标系以左下为原点（`x=0,y=0` 在左下，`y` 向上）；支持 `播放/暂停`、播放速率选择、`重置` 白板，以及右侧可视化规则面板（规则集下拉 + 方向规则“前态→后态”卡片）在暂停时切换演变规则。规则语义为“默认存活”：活细胞会持续存活，只有命中“死亡（活→空）”规则才会死亡；并支持“概率出生”：每条出生规则都可配置概率（默认 100%）。当前实现支持三种元胞类型 A/B/C，可在同一格叠加；每种类型只看同类型邻居独立演化，但三种类型共用同一套方向规则。

## Repo 列表与职责（与 docmap 对齐）
- lifegame-plus（入口：`src/lifegame-plus/`）
  - `engine/`：元胞自动机核心引擎（纯函数演进；方向规则集可注入）
  - `web/`：浏览器 UI（Canvas 渲染 + `播放/暂停` + `速率` + 规则面板）

## 本地开发最小路径（只到开发自测）
- 启动静态服务：在项目根目录执行 `python3 -m http.server 8000`
- 打开页面：浏览器访问 `http://127.0.0.1:8000/src/lifegame-plus/web/`
- 自测要点：
  - 页面加载后会在画面最底行随机出现 A/B/C 三个单点（颜色不同；允许同格叠加）；点击 `播放` 开始演进，再次点击暂停（左右环绕、上下不环绕）
  - 通过 `速率` 下拉选择 x0.5/x1/x2/x5/x10/x20/x50/x100，播放中切换后立即生效
  - 播放中规则面板禁用；暂停后可通过规则卡片启用开关切换规则，切换后对 A/B/C 同时生效，并从当前棋盘继续演进（不重置）
  - 暂停时可调整“出生”规则的概率（0%~100%）；命中多条出生规则会逐条抽样（例如横向扩展左右两侧可分别触发，概率会提升）
  - 右侧 `随机种子` 支持可复现：同 seed + 同规则配置 + 同操作序列，演化结果一致；点击 `重试` 会生成新 seed 并重新随机初始化盘面
  - 点击 `重置` 会按当前 seed 重新初始化盘面并自动暂停（本阶段不支持棋盘编辑）
  - UI 文案已统一为中文（保留倍率 `x...`）
